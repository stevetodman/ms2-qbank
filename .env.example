# MS2 QBank Environment Configuration
# Copy this file to .env and update values for your environment

# ======================
# Database Configuration
# ======================

# PostgreSQL (for production)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database URLs for each service
# NOTE: docker-compose.yml is configured to use PostgreSQL by default
# Each service connects to its own database:
#   - ms2qbank_users
#   - ms2qbank_flashcards
#   - ms2qbank_assessments
#   - ms2qbank_videos
#   - ms2qbank_library
#   - ms2qbank_planner
#   - ms2qbank_reviews
#   - ms2qbank_analytics
#
# Connection string format:
# postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/ms2qbank_<service>
#
# For local development outside Docker, you can use SQLite:
# DATABASE_URL=sqlite:///data/users.db

# ======================
# Authentication & Security
# ======================

# Secret key for JWT token signing (CHANGE THIS IN PRODUCTION!)
SECRET_KEY=development-secret-key-DO-NOT-USE-IN-PRODUCTION-change-to-random-string

# Token expiration times (in seconds)
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# ======================
# Service Ports
# ======================

# Backend Services (default: 8000-8008)
USERS_PORT=8000
FLASHCARDS_PORT=8001
ASSESSMENTS_PORT=8002
VIDEOS_PORT=8003
LIBRARY_PORT=8004
PLANNER_PORT=8005
QUESTIONS_PORT=8006
REVIEWS_PORT=8007
ANALYTICS_PORT=8008

# Frontend
FRONTEND_PORT=5173

# Database
POSTGRES_PORT=5432
REDIS_PORT=6379

# ======================
# CORS Configuration
# ======================

# Allowed origins for CORS (comma-separated)
# Development:
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Production:
# CORS_ORIGINS=https://ms2qbank.com,https://www.ms2qbank.com

# ======================
# Redis Configuration (optional, for caching)
# ======================

REDIS_URL=redis://redis:6379/0

# ======================
# Monitoring & Logging
# ======================

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ======================
# Email Configuration (optional, for notifications)
# ======================

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@ms2qbank.com

# ======================
# Feature Flags
# ======================

# Enable/disable features
ENABLE_ANALYTICS=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_RATE_LIMITING=true

# ======================
# Performance
# ======================

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Cache TTL (in seconds)
CACHE_TTL=300

# ======================
# Development Settings
# ======================

# Enable hot reload for development
RELOAD=true

# Debug mode
DEBUG=false
